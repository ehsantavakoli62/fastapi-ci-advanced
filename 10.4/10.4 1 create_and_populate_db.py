import sqlite3

# داده‌های ۲۰ خودرو به همراه ID مالک
CAR_DATA = [
    ('У314ОМ77', 'Chevrolet', 'Помятый задний бампер', 1),
    ('О006ОО178', 'Lorraine-Dietrich', 'Царапины на левом крыле', 2), 
    ('К994ХЕ78', 'Tesla', 'Только с завода', 2), 
    ('С569ТВ78', 'Lorraine-Dietrich', 'Помятая левая дверь, царапина на переднем бампере', 3), 
    ('С614СА23', 'Alfa Romeo', 'Лобовое стекло в трещинах', 4), 
    ('С746ОР78', 'Tesla', 'Только с завода, проблема с документами', 2), 
    ('Н130КЕ777', 'Lorraine-Dietrich', 'Раритетная модель, перебрать двигатель', 5), 
    ('Н857СК27', 'Lada', 'Не заводится، بدون آسیب خارجی', 2), 
    ('У657СА77', 'Lada', 'VIN قابل خواندن نیست', 1), 
    ('Е778ВЕ178', 'Ford', 'Поменять габаритные лампы، резину на зимнюю', 6), 
    ('К886УН68', 'Lada', 'مشتری از دودهای تیره هنگام رانندگی در شهر شکایت داشت', 7), 
    ('Н045МО97', 'Lada', 'Разбита левая фара، помят передний бампер', 5), 
    ('Т682КО777', 'Alfa Romeo', 'Поменять резину на зимнюю. Царапина на капоте (?)', 6), 
    ('О147НМ78', 'Chevrolet', 'Провести ТО №9', 4), 
    ('К110ТА77', 'Lada', 'Развал-схождение + замена резины', 7), 
    ('Е717ОЕ78', 'Chevrolet', 'Помята водительская дверь، заменить габаритки', 4), 
    ('У261ХО57', 'Ford', 'Заменить резину، проверить свечи', 2), 
    ('М649ОМ78', 'Alfa Romeo', 'Непонятные шумы при заводе', 1), 
    ('С253НО90', 'Ford', 'Заменить аккумулятор، проверить свечи', 3), 
    ('А757АХ11', 'Nissan', 'ТО، مشتری شکایت دارد که ماشین به چپ می‌کشد', 8)  
]

def insert_car_entries(database_path: str, data: list[tuple]):
    """
    متصل شدن به پایگاه داده و درج داده‌های خودرو در جدول 'table_car'.
    """
    
    INSERT_QUERY = """
    INSERT INTO table_car (car_number, car_name, description, belongs_to)
    VALUES (?, ?, ?, ?)
    """
    
    try:
        with sqlite3.connect(database_path) as connection:
            cursor = connection.cursor()
            
            cursor.executemany(INSERT_QUERY, data)
            
            print(f"✅ با موفقیت {len(data)} رکورد خودرو در جدول درج شد.")
            
    except sqlite3.Error as e:
        print(f"❌ خطای پایگاه داده: {e}")
        print("لطفاً مطمئن شوید فایل دیتابیس در جای درست قرار دارد و جدول table_car وجود دارد.")

def main():
    DB_FILE = 'hw_1_database.db'
    
    insert_car_entries(DB_FILE, CAR_DATA)

if __name__ == "__main__":
    main()
