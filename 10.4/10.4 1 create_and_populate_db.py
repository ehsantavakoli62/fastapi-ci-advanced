import sqlite3

# داده‌های ۲۰ خودرو به همراه ID مالک
# NOTE: ID مالکان (ستون چهارم) باید با IDهای جدول 'table_owner' در دیتابیس شما مطابقت داشته باشد.
CAR_DATA = [
    ('У314ОМ77', 'Chevrolet', 'Помятый задний бампер', 1),  # Киприянов А. И.
    ('О006ОО178', 'Lorraine-Dietrich', 'Царапины на левом крыле', 2), # Петриенко М. Ю.
    ('К994ХЕ78', 'Tesla', 'Только с завода', 2), # Петриенко М. Ю.
    ('С569ТВ78', 'Lorraine-Dietrich', 'Помятая левая дверь, царапина на переднем бампере', 3), # Комаренко И. П.
    ('С614СА23', 'Alfa Romeo', 'Лобовое стекло в трещинах', 4), # Шарко П. К.
    ('С746ОР78', 'Tesla', 'Только с завода, проблема с документами', 2), # Петриенко М. Ю.
    ('Н130КЕ777', 'Lorraine-Dietrich', 'Раритетная модель, перебрать двигатель', 5), # Силагадзе Л. С.
    ('Н857СК27', 'Lada', 'Не заводится, без внешних повреждений', 2), # Петриенко М. Ю.
    ('У657СА77', 'Lada', 'Не читается VIN', 1), # Киприянов А. И.
    ('Е778ВЕ178', 'Ford', 'Поменять габаритные лампы, резину на зимнюю', 6), # Яковлева Е. А.
    ('К886УН68', 'Lada', 'Клиент жаلبای تیره در شهر', 7), # Смитенко С. С.
    ('Н045МО97', 'Lada', 'Разбита левая фара, помят передний бампер', 5), # Силагадзе Л. С.
    ('Т682КО777', 'Alfa Romeo', 'Поменять резину на зимнюю. Царапина на капоте (?)', 6), # Яковлева Е. А.
    ('О147НМ78', 'Chevrolet', 'Провести ТО №9', 4), # Шарко П. К.
    ('К110ТА77', 'Lada', 'Развал-схождение + замена резины', 7), # Смитенко С. С.
    ('Е717ОЕ78', 'Chevrolet', 'Помята водительская дверь, заменить габаритки', 4), # Шарко П. К.
    ('У261ХО57', 'Ford', 'Заменить резину, проверить свечи', 2), # Петриенко М. Ю.
    ('М649ОМ78', 'Alfa Romeo', 'Непонятные шумы при заводе', 1), # Киприянов А. И.
    ('С253НО90', 'Ford', 'Заменить аккумулятор, проверить свечи', 3), # Комаренко И. П.
    ('А757АХ11', 'Nissan', 'ТО, клиент жалуется، что машину косит влево', 8)  # Глухих К. И.
]

def insert_car_entries(database_path: str, data: list[tuple]):
    """
    Connects to the SQLite database and inserts car data into 'table_car'.
    
    :param database_path: Name of the SQLite database file (e.g., 'hw_1_database.db').
    :param data: List of car records to insert.
    """
    
    # کوئری SQL برای درج اطلاعات: از علائم سؤال (?) به عنوان Placeholders استفاده می‌شود.
    INSERT_QUERY = """
    INSERT INTO table_car (car_number, car_name, description, belongs_to)
    VALUES (?, ?, ?, ?)
    """
    
    try:
        # با استفاده از 'with'، اتصال به طور خودکار commit و بسته می‌شود.
        with sqlite3.connect(database_path) as connection:
            cursor = connection.cursor()
            
            # Executemany برای درج کارآمد چندین سطر به طور همزمان
            cursor.executemany(INSERT_QUERY, data)
            
            print(f"✅ با موفقیت {len(data)} رکورد خودرو در جدول درج شد.")
            
    except sqlite3.Error as e:
        print(f"❌ خطای پایگاه داده: {e}")
        print("لطفاً مطمئن شوید فایل دیتابیس در جای درست قرار دارد و جدول table_car وجود دارد.")

def main():
    DB_FILE = 'hw_1_database.db' # نام فایل پایگاه داده شما
    
    # اجرای تابع اصلی با داده‌های از قبل تعریف شده
    insert_car_entries(DB_FILE, CAR_DATA)

# اجرای تابع main در هنگام اجرای فایل
if __name__ == "__main__":
    main()
